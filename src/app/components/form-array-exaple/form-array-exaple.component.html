<div class="wrapper">
    <div class="container">
        <h1>Add Course Lessons:</h1>
        <form class="add-lessons-form" [formGroup]="form">
            <label>Inserisci un nome:</label>
                <input type="text" formControlName="name">
            <div formArrayName="lessons"> 
                <div *ngFor="let lessonForm of lessons.controls; let i = index">
                    <form class="lesson-form-row" [formGroup]="lessonForm">
                            <input type="text" formControlName="title" placeholder="Lesson title">
        
                            <select formControlName="level" placeholder="Lesson level">
                                <option value="beginner">Beginner</option>
                                <option value="intermediate">Intermediate</option>
                                <option value="advanced">Advanced</option>
                            </select>
        
                        <button class="del" (click)="deleteLesson(i)">
                            delete
                        </button>
                    </form>
                </div>
            </div>
          
            <div class="buttons">
                <button class="add" (click)="addLesson()">
                    +
                </button>
            
                <button class="submit" (click)="onSubmit()" >Submit</button>
            </div>
        
        </form>

        <div class="formValue" *ngIf="display === true">
            <h3>choosen values:</h3>
              <p>Name: {{form.value.name}}</p>
              <div *ngFor="let value of lessons.value">
                <p> Title: {{value.title}}</p>
                <p> Level: {{value.level}}</p>
              </div>
        </div>
    </div>
    
</div>


